<!-- Music Player Container (Root) -->
<div class="music-player">
  <div class="nav-bar">
    <div class="nav-buttons">
      @for (tab of tabs; track tab) {
        <button
          [class.active]="activeTab === tab"
          (click)="setActiveTab(tab)">
          {{ tab }}
        </button>
      }
    </div>
  </div>

  <!-- Main Content Area -->
  <div class="content">
    <!-- Song List Panel (Left Side) -->
    <div class="song-list">
      <div class="header">
        <div class="info">
          <div class="thumbnail"></div>
          <span>Song List</span>
        </div>
        <div class="actions">
          <button class="btn">Add</button>
          <button class="btn">Remove</button>
        </div>
      </div>

      <!-- Song Items -->
      <div class="items">
        @for (song of songs.slice(1); track song.id) {
          <div class="item">
            <div class="info">
              <div class="thumbnail"></div>
              <span>{{ song.name }}</span>
            </div>
            <button class="btn-remove">Remove</button>
          </div>
        }
      </div>
    </div>

    <!-- Now Playing Panel (Right Side) -->
    <div class="now-playing">
      <div class="album-art"></div>
      <h2 class="title">Current Song</h2>
      <p class="artist">Current Artist</p>

      <!-- Visualizer -->
      <div class="visualizer">
        @for (height of audioBars; track $index) {
          <div class="bar" [style.height.%]="height"></div>
        }
      </div>
    </div>
  </div>

<!-- Player Controls (Bottom) -->
<div class="controls">
  <div class="current-track">
    <div class="thumbnail"></div>
    <div class="info">
      <h3>{{ currentTrack.title }}</h3>
      <p>{{ currentTrack.artist }}</p>
    </div>
  </div>

  <div class="playback">
    <!-- Previous Button -->
    <button class="btn-control" (click)="previousSong()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polygon points="19 20 9 12 19 4 19 20"></polygon>
        <line x1="5" y1="19" x2="5" y2="5"></line>
      </svg>
    </button>

    <!-- Play/Pause Button -->
    <button class="btn-control play-pause" (click)="togglePlayPause()">
      @if (isPlaying) {
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="6" y="4" width="4" height="16"></rect>
          <rect x="14" y="4" width="4" height="16"></rect>
        </svg>
      } @else {
        <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="5 3 19 12 5 21 5 3"></polygon>
        </svg>
      }
    </button>

    <!-- Next Button -->
    <button class="btn-control" (click)="nextSong()">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <polygon points="5 4 15 12 5 20 5 4"></polygon>
        <line x1="19" y1="5" x2="19" y2="19"></line>
      </svg>
    </button>
  </div>

  <div class="progress">
    <div class="bar">
      <div class="fill" [style.width.%]="currentProgress"></div>
    </div>
  </div>

  <div class="time">{{ currentTime }}</div>
</div>
</div>
