<!-- Song List Panel (Left Side) -->
<div class="song-list" 
  [class.empty]="realSongCount() === 0"
     [class.small]="isSmall()"
     [class.medium]="isMedium()"
     [class.large]="isLarge()">

  <div class="header">
    <div class="info">
      <div class="playlist-selector">
        <select
          class="playlist-dropdown"
          (change)="onPlaylistChange($event)"
          [disabled]="(platform==='youtube' && youtubeService.isLoading()) || (platform==='spotify' && spotifyService.isLoading())">

          @if (platform === 'youtube') {
            @if (youtubeService.isLoading()) {
              <option value="">Loading YouTube Playlists...</option>
            } @else if (youtubeService.playlists().length === 0) {
              <option value="">No YouTube Playlists Found</option>
            } @else {
              <option value="">Select YouTube Playlist</option>
              @for (playlist of youtubeService.playlists(); track playlist.id) {
                <option [value]="playlist.id">
                  {{ playlist.title }} ({{ playlist.video_count }} tracks)
                </option>
              }
            }
          } @else if (platform === 'spotify') {
            @if (spotifyService.isLoading()) {
              <option value="">Loading Spotify Playlists...</option>
            } @else if (spotifyService.playlists().length === 0) {
              <option value="">No Spotify Playlists Found</option>
            } @else {
              <option value="">Select Spotify Playlist</option>
              @for (playlist of spotifyService.playlists(); track playlist.id) {
                <option [value]="playlist.id">
                  {{ playlist.title }} ({{ playlist.video_count }} tracks)
                </option>
              }
            }
          } @else {
            <option value="default">Your Sound Starts Here</option>
            <option value="youtube">YouTube Playlist</option>
            <option value="spotify">Spotify Playlist</option>
            <option value="favorites">Favorites</option>
          }

        </select>
      </div>
    </div>
  </div>
  <!-- Song Items - Responsive to playlist size -->
<div class="items" [attr.data-count]="realSongCount()">
  @for (song of getDisplaySongs(); track song.id) {
    <div
      class="item clickable"
      [class.active]="song.id === c.track()?.id"
      (click)="selectSong(song)">

      <div class="info">
        <div class="thumbnail">
          <!-- Show YT icon when not on the active track -->
          @if ((platform === 'youtube') && song.id !== c.track()?.id) {
            <img src="assets/images/yt_icon_red_digital.png" alt="YouTube Icon" class="youtube-icon"/>
          }
          <!-- Show Spotify icon when platform is spotify and not the active track -->
          @if ((platform === 'spotify') && (!c.track() || song.id !== c.track()?.id)) {
            <img src="assets/images/Spotify_Primary_Logo_RGB_Green.png" alt="Spotify Icon" class="spotify-icon"/>
          }
        </div>

        <span>{{ song.name }}</span>
      </div>
    </div>
  }
</div>
</div>