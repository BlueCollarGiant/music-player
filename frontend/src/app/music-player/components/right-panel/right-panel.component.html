<!-- Now Playing Panel (Right Side) -->
<div class="now-playing">
  <div class="media-container">
    @if (showVideo()) {
      <div class="video-container">
        <div #youtubePlayer class="youtube-player"></div>
        @if (showThumbnailOverlay()) {
          <div class="thumbnail-overlay" (click)="onThumbnailClick()">
            <img [src]="thumbnailUrl()" alt="Video Thumbnail" class="overlay-thumbnail" />
            <div class="play-overlay"><div class="play-button">â–¶</div></div>
          </div>
        }
      </div>
    }
    @if (!showVideo() && showStaticThumbnail()) {
      <img class="album-art" [src]="thumbnailUrl()" [alt]="currentTrack()?.name || 'Album Art'" />
    }
    @if (!currentTrack()) {
      <div class="visualizer-container"><app-visualizer [isPlaying]="isPlaying()"/></div>
    }
  </div>
  @if (currentTrack()) {
    <div class="song-info-container">
      <div class="title">{{ currentTrack()?.name }}</div>
      <div class="artist">{{ currentTrack()?.artist }}</div>
    </div>
    <div class="bottom-visualizer"><app-visualizer [isPlaying]="isPlaying()"/></div>
  }
</div>
